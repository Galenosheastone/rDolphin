{
    "collab_server" : "",
    "contents" : "#' Preparation of parameters involved with the program. A list of manual changes to parameters can be provided.\n#'\n#' @return Preparation of parameters involved with the program\n#' @export fitting_variables\n#' @param parameter_change List of parameters ot change, if desired.\n#'\n#' @examples\n#' program_parameters=fitting_variables()\n#' program_parameters=fitting_variables(list(fitting_maxiterrep=1,fitting_error_analysis_limit=0.05))\n\n\n\nfitting_variables = function(parameter_change =list()) {\n\n\n  program_parameters=list()\n\n  program_parameters$spectrum_borders=c(10,-0.5)\n\n\n  program_parameters$BGdensity=70 #Density of signals to prepare abaseline below the signals to fit\nprogram_parameters$widthtolerance=0.25 #Allowed Variability of halfwidth\nprogram_parameters$gaussian=0.2 #Allowed Variability of gaussian percentage\nprogram_parameters$j_coupling_variation=0.2 #Allowed Variability of j-coupling\nprogram_parameters$BG_gaussian_percentage=0.2 #Allowed gaussian percentage of baseline signals\nprogram_parameters$BG_width=8 #Halfwidth of baseline signals\nprogram_parameters$BG_width_tolerance=0.25 #Allowed Variability of halfwidth of baseline signals\n\n#Parameters related to the fitting loop\nprogram_parameters$errorprov=3 #Percentage limit of fitting error on the ROI. If a lower percentage is reached, the solution is considered optimized and the optimization ends\nprogram_parameters$fitting_maxiter=NA #The number of maximum iterations of optimization can be specified\n\n#Parameters related to the nls algorithm. Read documentation of nls.lm package for details.\nprogram_parameters$nls_lm_maxiter=500\nprogram_parameters$ftol=1e-6\nprogram_parameters$ptol=1e-6\nprogram_parameters$factor=0.01\n\n#Parameters related to the addition of other signals post fitting\nprogram_parameters$additional_signal_ppm_distance=0.002 #Allowed distance for added peaks\nprogram_parameters$signals_to_add = 2 #Allowed distance for added peaks to the ROI\nprogram_parameters$fitting_maxiterrep = 0 #Allowed tries to add peaks\nprogram_parameters$additional_signal_improvement=0.75 #Improvement of ROI by adding peaks. If previous addition did not achieve less than 75% of fitting error, process of addition of peaks is stopped\nprogram_parameters$additional_signal_percentage_limit=3 #If fititng erorr is less tha nthis percentage, addition of peaks is not performed\nprogram_parameters$peakdet_minimum=0.01 #Limit to find a peak as relevant enough to add it.\n\n\n#Parameters related to criteria to automatically discard quantifications during analysis\nprogram_parameters$automatic_removal='Y'\nprogram_parameters$fitting_error_analysis_limit=0.15\nprogram_parameters$signal_area_ratio_analysis_limit=10\n\nif (length(parameter_change)>0) {\nfor (i in seq(length(parameter_change))) program_parameters[[which(names(program_parameters)==names(parameter_change)[i])]]=parameter_change[[i]]\n}\n\nreturn(program_parameters)\n}\n",
    "created" : 1494496063870.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2053316709",
    "id" : "7BF06792",
    "lastKnownWriteTime" : 1494496076,
    "last_content_update" : 1494496076338,
    "path" : "~/GitHub/rDolphin/R/fitting_variables.R",
    "project_path" : "R/fitting_variables.R",
    "properties" : {
    },
    "relative_order" : 23,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}