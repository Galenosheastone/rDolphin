{
    "collab_server" : "",
    "contents" : "library(readxl)\nlibrary(h2o)\nh2o.init()\nADG_transformed_data <- read_excel(\"C:/Bruker/TopSpin3.2/data/MTBLS1/ADG_transformed_data.xlsx\")\nADG_transformed_data$`Primary ID`=NULL\nADG_transformed_data=as.data.frame(scale(as.matrix(ADG_transformed_data)))\nADG_transformed_data$Species=make.names(factor(rep(c(1,2),c(48,84))))\nsamples=sample(132,66)\ntrain <- as.h2o(ADG_transformed_data[samples,])\ntest <- as.h2o(ADG_transformed_data[-samples,])\n\n# Identify predictors and response\ny <- \"Species\"\nx <- setdiff(names(ADG_transformed_data), y)\n\naml <- h2o.automl(x = x, y = y,\n                  training_frame = train,\n                  leaderboard_frame = test,\n                  max_runtime_secs = 30)\n\n\n\niris.dl <- h2o.deeplearning(x =x, y = y,  training_frame = train)\n\n\n# now make a prediction\nperf <- h2o.performance(iris.dl, test)\nh2o.auc(perf)\n\n\nset.seed(1);plsFit <- train(Species ~ .,data = ADG_transformed_data[samples,],method = \"pls\",tuneLength = 4,trControl = ctrl)\nset.seed(1);result.roc1=apply(predict(plsFit, ADG_transformed_data[-samples,],type=\"prob\"),2,function(x)roc(ADG_transformed_data$Species[-samples], x)$auc)\n\n\n\nset.seed(1);samples <- sample(nrow(combined_mtbls374), nrow(combined_mtbls374) * .5)\n\n#Both kinds of information\ndataset <- combined_mtbls374[,1:ncol(quantification_clean)]\ndataset$sample_type=factor(make.names(metadata))\ntrain <- as.h2o(dataset[samples,])\ntest <- as.h2o(dataset[-samples,])\ny <- \"sample_type\"\nx <- setdiff(names(dataset), y)\naml <- h2o.automl(x = x, y = y,\n                  training_frame = train,\n                  leaderboard_frame = test,\n                  max_runtime_secs = 30)\naml@leaderboard\n\niris.dl <- h2o.deeplearning(x =x, y = y,  training_frame = train)\nperf <- h2o.performance(iris.dl, test)\nh2o.auc(perf)\n\nMothers_quantification <- read_csv(\"C:/Bruker/TopSpin3.2/data/RuiSimoes/data_analysis/Mothers_quantification.csv\")[,-1]\nMothers_quantification=as.data.frame(scale(as.matrix(Mothers_quantification)))\nMothers_quantification=missForest(Mothers_quantification)$ximp\n\nMothers_quantification$Species=make.names(factor(rep(c(1,2,3),c(28,25,26))))\nsamples=sample(79,50)\ntrain <- as.h2o(Mothers_quantification[samples,])\ntest <- as.h2o(Mothers_quantification[-samples,])\n\n# Identify predictors and response\ny <- \"Species\"\nx <- setdiff(names(Mothers_quantification), y)\n\naml <- h2o.automl(x = x, y = y,\n                  training_frame = train,\n                  leaderboard_frame = test,\n                  max_runtime_secs = 30)\naml@leaderboard\n\n\niris.dl <- h2o.deeplearning(x =x, y = y,  training_frame = train)\nperf <- h2o.performance(iris.dl, test)\nh2o.auc(perf)\n",
    "created" : 1493662133982.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1303010322",
    "id" : "D930ADDA",
    "lastKnownWriteTime" : 1506242764,
    "last_content_update" : 1506242764677,
    "path" : "C:/Users/Usuario/Downloads/auto-ml-example.R",
    "project_path" : null,
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 8,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}